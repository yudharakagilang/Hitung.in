-- phpMyAdmin SQL Dump
-- version 4.8.2
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Generation Time: May 11, 2019 at 11:14 AM
-- Server version: 10.1.34-MariaDB
-- PHP Version: 7.2.7

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET AUTOCOMMIT = 0;
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `hitungin`
--

-- --------------------------------------------------------

--
-- Table structure for table `admin`
--

CREATE TABLE `admin` (
  `username` varchar(30) NOT NULL,
  `password` text NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `admin`
--

INSERT INTO `admin` (`username`, `password`) VALUES
('admin', '$2y$10$qvwMQE44JKBQHnVFZ./Yve5Mt9.pZkaWYpYeSyKPNg2CXWYfdIOeW');

-- --------------------------------------------------------

--
-- Stand-in structure for view `avg_hour`
-- (See below for the actual view)
--
CREATE TABLE `avg_hour` (
`Rerata` decimal(14,4)
,`Jam` int(2)
,`Tanggal` int(2)
,`Bulan` int(2)
,`Tahun` int(4)
);

-- --------------------------------------------------------

--
-- Stand-in structure for view `hour_day`
-- (See below for the actual view)
--
CREATE TABLE `hour_day` (
`value` int(11)
,`Jam` int(2)
,`Tanggal` int(2)
,`Bulan` int(2)
,`Tahun` int(4)
);

-- --------------------------------------------------------

--
-- Table structure for table `record`
--

CREATE TABLE `record` (
  `id` bigint(20) UNSIGNED NOT NULL,
  `value` int(11) NOT NULL,
  `time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `record`
--

INSERT INTO `record` (`id`, `value`, `time`) VALUES
(1, 28, '2019-05-11 03:00:00'),
(2, 26, '2019-05-11 03:10:00'),
(3, 36, '2019-05-11 03:20:00'),
(4, 31, '2019-05-11 03:30:00'),
(5, 30, '2019-05-11 03:40:00'),
(6, 27, '2019-05-11 03:50:00'),
(7, 28, '2019-05-11 04:00:00'),
(8, 25, '2019-05-11 04:10:00'),
(9, 27, '2019-05-11 04:20:00'),
(10, 27, '2019-05-11 04:30:00'),
(11, 7, '2019-05-11 06:03:10'),
(12, 5, '2019-05-11 06:03:11'),
(13, 5, '2019-05-11 06:03:12'),
(14, 1, '2019-05-11 06:03:13'),
(15, 7, '2019-05-11 06:03:14'),
(16, 1, '2019-05-11 06:03:15'),
(17, 2, '2019-05-11 06:03:16'),
(18, 8, '2019-05-11 06:03:17'),
(19, 2, '2019-05-11 06:03:18'),
(20, 9, '2019-05-11 06:03:19'),
(21, 4, '2019-05-11 06:03:20'),
(22, 4, '2019-05-11 06:03:21'),
(23, 0, '2019-05-11 06:03:22'),
(24, 1, '2019-05-11 06:03:23'),
(25, 2, '2019-05-11 06:03:24'),
(26, 3, '2019-05-11 06:03:25'),
(27, 10, '2019-05-11 06:03:26'),
(28, 6, '2019-05-11 06:03:27'),
(29, 5, '2019-05-11 06:03:28'),
(30, 7, '2019-05-11 06:03:29'),
(31, 7, '2019-05-11 06:03:30'),
(32, 11, '2019-05-11 06:03:31'),
(33, 10, '2019-05-11 06:03:32'),
(34, 11, '2019-05-11 06:03:33'),
(35, 8, '2019-05-11 06:03:34'),
(36, 0, '2019-05-11 06:03:35'),
(37, 6, '2019-05-11 06:03:36'),
(38, 10, '2019-05-11 06:03:37'),
(39, 4, '2019-05-11 06:03:38'),
(40, 6, '2019-05-11 06:03:39'),
(41, 3, '2019-05-11 06:03:40'),
(42, 5, '2019-05-11 06:03:41'),
(43, 2, '2019-05-11 06:03:42'),
(44, 5, '2019-05-11 06:03:43'),
(45, 9, '2019-05-11 06:03:44'),
(46, 8, '2019-05-11 06:03:45'),
(47, 1, '2019-05-11 06:03:46'),
(48, 8, '2019-05-11 06:03:47'),
(49, 5, '2019-05-11 06:03:48'),
(50, 5, '2019-05-11 06:03:49'),
(51, 1, '2019-05-11 06:03:50'),
(52, 1, '2019-05-11 06:03:51'),
(53, 8, '2019-05-11 06:03:52'),
(54, 4, '2019-05-11 06:03:53'),
(55, 9, '2019-05-11 06:03:54'),
(56, 9, '2019-05-11 06:03:55'),
(57, 2, '2019-05-11 06:03:56'),
(58, 8, '2019-05-11 06:03:57'),
(59, 3, '2019-05-11 06:03:58'),
(60, 0, '2019-05-11 06:03:59'),
(61, 3, '2019-05-11 06:04:00'),
(62, 8, '2019-05-11 06:04:01'),
(63, 3, '2019-05-11 06:04:02'),
(64, 5, '2019-05-11 06:04:03'),
(65, 6, '2019-05-11 06:04:04'),
(66, 6, '2019-05-11 06:04:05'),
(67, 10, '2019-05-11 06:04:06'),
(68, 6, '2019-05-11 06:04:07'),
(69, 7, '2019-05-11 06:04:08'),
(70, 7, '2019-05-11 06:04:09'),
(71, 2, '2019-05-11 06:04:10'),
(72, 1, '2019-05-11 06:04:11'),
(73, 7, '2019-05-11 06:04:12'),
(74, 6, '2019-05-11 06:04:13'),
(75, 10, '2019-05-11 06:04:14'),
(76, 10, '2019-05-11 06:04:15'),
(77, 3, '2019-05-11 06:04:16'),
(78, 2, '2019-05-11 06:04:17'),
(79, 8, '2019-05-11 06:04:18'),
(80, 9, '2019-05-11 06:04:19'),
(81, 0, '2019-05-11 06:04:20'),
(82, 5, '2019-05-11 06:04:21'),
(83, 1, '2019-05-11 06:04:22'),
(84, 3, '2019-05-11 06:04:23'),
(85, 9, '2019-05-11 06:04:24'),
(86, 11, '2019-05-11 06:04:25'),
(87, 1, '2019-05-11 06:04:26'),
(88, 3, '2019-05-11 06:04:27'),
(89, 10, '2019-05-11 06:04:28'),
(90, 7, '2019-05-11 06:04:29'),
(91, 8, '2019-05-11 06:04:30'),
(92, 6, '2019-05-11 06:04:31'),
(93, 4, '2019-05-11 06:04:32'),
(94, 6, '2019-05-11 06:04:33'),
(95, 5, '2019-05-11 06:04:34'),
(96, 6, '2019-05-11 06:04:35'),
(97, 9, '2019-05-11 06:04:36'),
(98, 3, '2019-05-11 06:04:37'),
(99, 5, '2019-05-11 06:04:38'),
(100, 10, '2019-05-11 06:04:39'),
(101, 11, '2019-05-11 06:04:40'),
(102, 10, '2019-05-11 06:04:41'),
(103, 11, '2019-05-11 06:04:42'),
(104, 3, '2019-05-11 06:04:43'),
(105, 6, '2019-05-11 06:04:44'),
(106, 3, '2019-05-11 06:04:45'),
(107, 1, '2019-05-11 06:04:46'),
(108, 10, '2019-05-11 06:04:47'),
(109, 1, '2019-05-11 06:04:48'),
(110, 11, '2019-05-11 06:04:49'),
(111, 8, '2019-05-11 06:04:50'),
(112, 8, '2019-05-11 06:04:51'),
(113, 11, '2019-05-11 06:04:52'),
(114, 9, '2019-05-11 06:04:53'),
(115, 4, '2019-05-11 06:04:54'),
(116, 1, '2019-05-11 06:04:55'),
(117, 5, '2019-05-11 06:04:56'),
(118, 10, '2019-05-11 06:04:57'),
(119, 2, '2019-05-11 06:04:58'),
(120, 9, '2019-05-11 06:04:59'),
(121, 4, '2019-05-11 06:05:00'),
(122, 4, '2019-05-11 06:05:01'),
(123, 2, '2019-05-11 06:05:02'),
(124, 5, '2019-05-11 06:05:03'),
(125, 6, '2019-05-11 06:05:04'),
(126, 4, '2019-05-11 06:05:05'),
(127, 4, '2019-05-11 06:05:06'),
(128, 8, '2019-05-11 06:05:07'),
(129, 5, '2019-05-11 06:05:08'),
(130, 2, '2019-05-11 06:05:09'),
(131, 1, '2019-05-11 06:05:10'),
(132, 6, '2019-05-11 06:05:11'),
(133, 11, '2019-05-11 06:05:12'),
(134, 11, '2019-05-11 06:05:13'),
(135, 7, '2019-05-11 06:05:14'),
(136, 1, '2019-05-11 06:05:15'),
(137, 2, '2019-05-11 06:05:16'),
(138, 3, '2019-05-11 06:05:20'),
(139, 1, '2019-05-11 06:05:25'),
(140, 8, '2019-05-11 06:05:30'),
(141, 7, '2019-05-11 06:05:35'),
(142, 5, '2019-05-11 06:05:40'),
(143, 2, '2019-05-11 06:05:45'),
(144, 2, '2019-05-11 06:05:50'),
(145, 2, '2019-05-11 06:05:55'),
(146, 11, '2019-05-11 06:06:00'),
(147, 11, '2019-05-11 06:06:05'),
(148, 3, '2019-05-11 06:06:10'),
(149, 5, '2019-05-11 06:06:15'),
(150, 9, '2019-05-11 06:06:20'),
(151, 9, '2019-05-11 06:06:25'),
(152, 7, '2019-05-11 06:06:30'),
(153, 10, '2019-05-11 06:06:35'),
(154, 1, '2019-05-11 06:06:40'),
(155, 5, '2019-05-11 06:06:45'),
(156, 6, '2019-05-11 06:06:50'),
(157, 3, '2019-05-11 06:06:55'),
(158, 6, '2019-05-11 06:07:00'),
(159, 10, '2019-05-11 06:07:05'),
(160, 9, '2019-05-11 06:07:10'),
(161, 5, '2019-05-11 06:07:15'),
(162, 9, '2019-05-11 06:07:20'),
(163, 1, '2019-05-11 06:07:25'),
(164, 9, '2019-05-11 06:07:30'),
(165, 7, '2019-05-11 06:07:35'),
(166, 3, '2019-05-11 06:07:40'),
(167, 5, '2019-05-11 06:07:45'),
(168, 7, '2019-05-11 06:07:50'),
(169, 2, '2019-05-11 06:07:55'),
(170, 10, '2019-05-11 06:08:00'),
(171, 1, '2019-05-11 06:08:05'),
(172, 5, '2019-05-11 06:08:10'),
(173, 5, '2019-05-11 06:08:15'),
(174, 7, '2019-05-11 06:08:20'),
(175, 7, '2019-05-11 06:08:25'),
(176, 6, '2019-05-11 06:08:30'),
(177, 4, '2019-05-11 06:08:35'),
(178, 8, '2019-05-11 06:08:40'),
(179, 4, '2019-05-11 06:08:45'),
(180, 9, '2019-05-11 06:08:50'),
(181, 6, '2019-05-11 06:08:55'),
(182, 10, '2019-05-11 06:09:00'),
(183, 8, '2019-05-11 06:09:05'),
(184, 2, '2019-05-11 06:09:10'),
(185, 6, '2019-05-11 06:09:15'),
(186, 9, '2019-05-11 06:09:20'),
(187, 9, '2019-05-11 06:09:25'),
(188, 4, '2019-05-11 06:09:30'),
(189, 0, '2019-05-11 06:09:35'),
(190, 9, '2019-05-11 06:09:40'),
(191, 6, '2019-05-11 06:09:45'),
(192, 10, '2019-05-11 06:09:50'),
(193, 7, '2019-05-11 06:09:55'),
(194, 9, '2019-05-11 06:10:00'),
(195, 7, '2019-05-11 06:10:05'),
(196, 2, '2019-05-11 06:10:10'),
(197, 4, '2019-05-11 06:10:15'),
(198, 5, '2019-05-11 06:10:20'),
(199, 8, '2019-05-11 06:10:25'),
(200, 1, '2019-05-11 06:10:30'),
(201, 6, '2019-05-11 06:10:35'),
(202, 0, '2019-05-11 06:10:40'),
(203, 1, '2019-05-11 06:10:45'),
(204, 8, '2019-05-11 06:10:50'),
(205, 8, '2019-05-11 06:10:55'),
(206, 9, '2019-05-11 06:11:00'),
(207, 3, '2019-05-11 06:11:05'),
(208, 2, '2019-05-11 06:11:10'),
(209, 5, '2019-05-11 06:11:15'),
(210, 6, '2019-05-11 06:11:20'),
(211, 10, '2019-05-11 06:11:25'),
(212, 5, '2019-05-11 06:11:30'),
(213, 1, '2019-05-11 06:11:35'),
(214, 4, '2019-05-11 06:11:40'),
(215, 11, '2019-05-11 06:11:45'),
(216, 1, '2019-05-11 06:11:50'),
(217, 4, '2019-05-11 06:11:55'),
(218, 6, '2019-05-11 06:12:00'),
(219, 4, '2019-05-11 06:12:05'),
(220, 11, '2019-05-11 06:12:10'),
(221, 10, '2019-05-11 06:12:15'),
(222, 8, '2019-05-11 06:12:20'),
(223, 2, '2019-05-11 06:12:25'),
(224, 1, '2019-05-11 06:12:30'),
(225, 4, '2019-05-11 06:12:35'),
(226, 2, '2019-05-11 06:12:40'),
(227, 1, '2019-05-11 06:12:45'),
(228, 3, '2019-05-11 06:12:50'),
(229, 0, '2019-05-11 06:12:55'),
(230, 4, '2019-05-11 06:13:00'),
(231, 2, '2019-05-11 06:13:05'),
(232, 2, '2019-05-11 06:13:10'),
(233, 6, '2019-05-11 06:13:15'),
(234, 1, '2019-05-11 06:13:20'),
(235, 8, '2019-05-11 06:13:25'),
(236, 1, '2019-05-11 06:13:30'),
(237, 6, '2019-05-11 06:13:35'),
(238, 8, '2019-05-11 06:13:40'),
(239, 2, '2019-05-11 06:13:45'),
(240, 7, '2019-05-11 06:13:50'),
(241, 10, '2019-05-11 06:13:55'),
(242, 4, '2019-05-11 06:14:00'),
(243, 6, '2019-05-11 06:14:05'),
(244, 6, '2019-05-11 06:14:10'),
(245, 10, '2019-05-11 06:14:15'),
(246, 10, '2019-05-11 06:14:20'),
(247, 0, '2019-05-11 06:14:25'),
(248, 0, '2019-05-11 06:14:30'),
(249, 6, '2019-05-11 06:14:35'),
(250, 7, '2019-05-11 06:14:40'),
(251, 3, '2019-05-11 06:14:45'),
(252, 4, '2019-05-11 06:14:50'),
(253, 6, '2019-05-11 06:14:55'),
(254, 8, '2019-05-11 06:15:00'),
(255, 9, '2019-05-11 06:15:05'),
(256, 10, '2019-05-11 06:15:10'),
(257, 0, '2019-05-11 06:15:15'),
(258, 7, '2019-05-11 06:15:20'),
(259, 7, '2019-05-11 06:15:25'),
(260, 11, '2019-05-11 06:15:30'),
(261, 3, '2019-05-11 06:15:35'),
(262, 2, '2019-05-11 06:15:40'),
(263, 6, '2019-05-11 06:15:45'),
(264, 11, '2019-05-11 06:15:50'),
(265, 6, '2019-05-11 06:15:55'),
(266, 10, '2019-05-11 06:16:00'),
(267, 9, '2019-05-11 06:16:05'),
(268, 4, '2019-05-11 06:16:10'),
(269, 10, '2019-05-11 06:16:15'),
(270, 8, '2019-05-11 06:16:20'),
(271, 1, '2019-05-11 06:16:25'),
(272, 1, '2019-05-11 06:16:30'),
(273, 1, '2019-05-11 06:16:35'),
(274, 3, '2019-05-11 06:16:40'),
(275, 2, '2019-05-11 06:16:45'),
(276, 2, '2019-05-11 06:16:50'),
(277, 11, '2019-05-11 06:16:55'),
(278, 7, '2019-05-11 06:17:00'),
(279, 11, '2019-05-11 06:17:05'),
(280, 1, '2019-05-11 06:17:10'),
(281, 2, '2019-05-11 06:17:15'),
(282, 4, '2019-05-11 06:17:20'),
(283, 8, '2019-05-11 06:17:25'),
(284, 9, '2019-05-11 06:17:30'),
(285, 3, '2019-05-11 06:17:35'),
(286, 7, '2019-05-11 06:17:40'),
(287, 4, '2019-05-11 06:17:45'),
(288, 1, '2019-05-11 06:17:50'),
(289, 1, '2019-05-11 06:17:55'),
(290, 5, '2019-05-11 06:18:00'),
(291, 9, '2019-05-11 06:18:05'),
(292, 10, '2019-05-11 06:18:10'),
(293, 6, '2019-05-11 06:18:15'),
(294, 11, '2019-05-11 06:18:20'),
(295, 10, '2019-05-11 06:18:25'),
(296, 1, '2019-05-11 06:18:30'),
(297, 1, '2019-05-11 06:18:35'),
(298, 5, '2019-05-11 06:18:40'),
(299, 1, '2019-05-11 06:18:45'),
(300, 3, '2019-05-11 06:18:50');

-- --------------------------------------------------------

--
-- Structure for view `avg_hour`
--
DROP TABLE IF EXISTS `avg_hour`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `avg_hour`  AS  select avg(`hour_day`.`value`) AS `Rerata`,`hour_day`.`Jam` AS `Jam`,`hour_day`.`Tanggal` AS `Tanggal`,month(`record`.`time`) AS `Bulan`,year(`record`.`time`) AS `Tahun` from (`record` join `hour_day`) group by `hour_day`.`Jam`,`hour_day`.`Tanggal`,month(`record`.`time`),year(`record`.`time`) ;

-- --------------------------------------------------------

--
-- Structure for view `hour_day`
--
DROP TABLE IF EXISTS `hour_day`;

CREATE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `hour_day`  AS  select `record`.`value` AS `value`,hour(`record`.`time`) AS `Jam`,dayofmonth(`record`.`time`) AS `Tanggal`,month(`record`.`time`) AS `Bulan`,year(`record`.`time`) AS `Tahun` from `record` ;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `admin`
--
ALTER TABLE `admin`
  ADD PRIMARY KEY (`username`);

--
-- Indexes for table `record`
--
ALTER TABLE `record`
  ADD UNIQUE KEY `id` (`id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `record`
--
ALTER TABLE `record`
  MODIFY `id` bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=1491;

DELIMITER $$
--
-- Events
--
CREATE DEFINER=`root`@`localhost` EVENT `testing` ON SCHEDULE EVERY 5 SECOND STARTS '2019-05-11 13:01:50' ON COMPLETION NOT PRESERVE DISABLE DO INSERT INTO record (VALUE) VALUES ((RAND()*(30-20+1)))$$

DELIMITER ;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
